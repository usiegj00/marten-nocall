module Auth
  module RequireSignedInUser
    macro included
      before_dispatch :require_signed_in_user
    end

    private def require_signed_in_user
      redirect reverse("auth:sign_in") unless request.user?
    end
  end
end
